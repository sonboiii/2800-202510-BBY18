<%- include('templates/header', { title: 'Dashboard' }) %>

<div class="text-center">
    <h2 id="greeting" class="mb-5 fw-bold" data-username="<%= user?.name || '' %>!"></h2>
    <h3 id="location" class="text-center fs-8 fw-bold text-muted"></h3>
    <h3 id="current-time" class="text-center fs-8 fw-bold text-secondary"></h3>
    <h3 id="meal-time-msg" class="text-center  fs-8 fw-bold text-muted"></h3>
    <button id="store-btn" class="btn btn-primary mt-3 fancy-hover">Closest Store</button>
    <button id="ingredient-btn" class="btn btn-primary mt-3 fancy-hover">Ingredients</button>
    <button id="globe-btn" class="btn btn-primary mt-3 fancy-hover">Globe</button>
    <button id="pantry-btn" class="btn btn-primary mt-3 fancy-hover">Pantry</button>
    <button id="fav-btn" class="btn btn-primary mt-3 fancy-hover">Fav Recipes</button>
</div>

<!--Tentative placement-->
<div class="card mt-5 mx-auto" style="max-width: 500px;">
  <div class="card-body text-center">
    <h5 class="card-title">See What You Can Make</h5>
    <p class="card-text">Find recipes you can cook today!</p>
    <a href="/available-recipes" class="btn btn-outline-primary fancy-hover">View Available Recipes</a>
  </div>
</div>

<!-- AI Food Fact Section -->
<div class="card mt-4 mx-auto text-center" style="max-width: 600px;">
  <div class="card-body">
    <h5 class="card-title">Fun Food Fact!</h5>
    <p id="food-fact-text" class="card-text text-muted">Click the button to discover a food fact!</p>
    <button id="refresh-food-fact" class="btn btn-outline-info btn-sm mt-2">Get a Food Fact</button>
  </div>
</div>


<%- include('templates/footer', {
jsFiles: ['/js/location.js', '/js/greetingTime.js', '/js/foodfact.js']
}) %>

<script>
  document.getElementById('store-btn').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = '/stores';
  });

  document.getElementById('ingredient-btn').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = '/ingredients';
  });

  document.getElementById('globe-btn').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = '/globe';
  });
  document.getElementById('pantry-btn').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = '/pantry';
  });
  document.getElementById('fav-btn').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = '/favourites';
  });
</script>